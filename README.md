# 지하철 노선도 미션
[ATDD 강의](https://edu.nextstep.camp/c/R89PYi5H) 실습을 위한 지하철 노선도 애플리케이션

## Step1
### 프로그래밍 요구사항
- 인수 테스트 주도 개발 프로세스
- 인수 조건은 인수 테스트 메소드 상단에 주석으로 작성
- 인수 테스트 이후 기능 구현은 **TDD**
    - 도메인 레이어는 테스트 필수
    - 서비스 레이어는 테스트 선택

### 기능 요구사항
#### 역 사이에 새로운 역 등록
- 기존 구간 사이에 역 등록
  - `A -(10)- C`에 `A -(3)- B`추가 -> `A -(3)- B -(7)- C`
  - `A -(10)- C`에 `B -(3)- C`추가 -> `A -(7)- B -(3)- C`
- 새로운 역을 상행 종점역으로 등록
  - `A -(10)- C`에 `B -(3)- A`추가 -> `B -(3)- A -(10)- C`
- 새로운 역을 하행 종점역으로 등록
  - `A -(10)- C`에 `C -(3)- B`추가 -> `A -(10)- C -(3)- B`
- 예외
  - 상행역과 하행역 중 하나라도 노선에 포함되어 있어야 함
  - 상행역과 하행역 모두 같을 수 없음
  - 기존 구간과 신규 구간의 길이가 같을 수 없음

## Step2
### 프로그래밍 요구사항
- 인수 테스트 주도 개발 프로세스
- 인수 조건은 인수 테스트 메소드 상단에 주석으로 작성
- 인수 테스트 이후 기능 구현은 **TDD**
  - 도메인 레이어는 테스트 필수
  - 서비스 레이어는 테스트 선택

### 기능 요구사항
#### 역 삭제
- 종점역 삭제
  - 상행 종점역 삭제시 해당 역을 상행역으로 갖는 구간의 하행역이 상행 종점역
  - 하행 종점역 삭제시 해당 역을 하행역으로 갖는 구간의 상행역이 하행 종점역
  - 중간역 삭제시 삭제 후 역 재배치
    - `A -(3)- B -(4)- C`에서 `B`역 삭제시 `A -(7)- C`
- 예외
  - 구간이 하나이하인 경우 삭제할 수 없음
    - 구간이 0개(= 역이 0개)
    - 구간이 1개(= 역이 2개)
  - 구간에 등록되지 않은 역은 삭제할 수 없음

## Step3
### 프로그래밍 요구사항
- 인수 테스트 주도 개발 프로세스
- 인수 조건은 인수 테스트 메소드 상단에 주석으로 작성
- 인수 테스트 이후 기능 구현은 **TDD**
  - 도메인 레이어는 테스트 필수
  - 서비스 레이어는 테스트 선택

###  기능 요구사항
#### 경로 조회
- `JGraph` 이용
  - 정점(vertex): station
  - 간선(edge): section
  - 가중치: distance
- 예외
  - 출발역과 도착역이 같은 경우 예외 발생
  - 출발역과 도착역이 연결되어 있지 않은 경우 예외 발생
  - 존재하지 않는 출발역이나 도착역을 조회할 경우 예외 발생
- 미션 수행 수너
- ATDD -> TDD
  1. Outside In TDD
     - 컨트롤러 구현 이후 서비스 구현 시 바로 기능 구현에 앞서 단위 테스트 먼저 작성
     - 서비스 레이어의 단위 테스트 목적은 비즈니스 플로우를 검증하는 것이며 이 때 협력 객체는 stubbing을 활용하여 대체함
     - 단위 테스트 작성 후 해당 단위 테스트를 만족하는 기능을 구현한 다음 리팩터링 진행
     - 그 다음 기능 구현은 방금 전 사이클에서 stubbing 한 객체를 대상으로 진행하면 수월하게 TDD 사이클을 진행할 수 있음
     - 외부 라이브러리를 활용한 로직을 검증할 때는 가급적 실제 객체를 활용
     - Happy 케이스에 대한 부분만 구현( Side 케이스에 대한 구현은 다음 단계에서 진행)
  2. Inside Out TDD
     - 인수 테스트를 작성하며 도메인에 대한 이해도를 높이고 기능 구현 전 도메인 설계를 진행
     - 도메인 설계 후 도메인 객체에 대한 단위 테스트 작성을 시작으로 TDD 사이클 시작
     - 해당 도메인의 단위 테스트를 통해 도메인의 역할과 경계를 설계
     - 도메인의 구현이 끝나면 해당 도메인과 관계를 맺는 객체에 대해 기능 구현 시작